<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>THE HUNT - Christmas Edition</title>
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <link rel="stylesheet" href="styles.css?v=20241010-4">
    <link href="https://fonts.googleapis.com/css2?family=Mountains+of+Christmas&family=Crimson+Text:wght@400;600&display=swap" rel="stylesheet">
</head>
<body>
    <div class="snow-container">
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
        <div class="snow"></div>
    </div>
    
    <div class="container">
        <header class="header">
            <h1 class="main-title">THE HUNT</h1>
            <div class="subtitle">
                <p class="christmas-greeting">Merry Christmas everyone.</p>
                <p class="instructions">Find the clues, have fun and good luck.</p>
				<p class="instructions">Click Play on all videos and turn up the sound!.</p>
            </div>
        </header>
        
        <main class="main-content">
            <div class="video-container">
                <iframe width="1200" height="675" src="https://www.youtube.com/embed/E8gmARGvPlI?si=JfaOW8U-XVFAW-tM&autoplay=1" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
            </div>
            
            <div class="decorations">
                <!-- Target elements - correct order: blade then runner -->
                <div class="clickable-icon blade-icon" data-type="blade">‚õ∏Ô∏è</div>
                <div class="clickable-icon runner-icon" data-type="runner">üèÉ</div>
                
                <!-- Christmas decorations -->
                <div class="clickable-icon christmas-icon">üéÑ</div>
                <div class="clickable-icon christmas-icon">‚≠ê</div>
                <div class="clickable-icon christmas-icon">üéÅ</div>
                <div class="clickable-icon christmas-icon">‚ùÑÔ∏è</div>
                <div class="clickable-icon christmas-icon">üîî</div>
                <div class="clickable-icon christmas-icon">üéÖ</div>
                <div class="clickable-icon christmas-icon">ü§∂</div>
                <div class="clickable-icon christmas-icon">ü¶å</div>
                <div class="clickable-icon christmas-icon">üõ∑</div>
                <div class="clickable-icon christmas-icon">üïØÔ∏è</div>
                <div class="clickable-icon christmas-icon">üß∏</div>
                <div class="clickable-icon christmas-icon">üéÇ</div>
                <div class="clickable-icon christmas-icon">üç™</div>
                <div class="clickable-icon christmas-icon">ü•õ</div>
                <div class="clickable-icon christmas-icon">üé™</div>
                <div class="clickable-icon christmas-icon">üé≠</div>
            </div>
            
            <!-- Success modal -->
            <div id="successModal" class="modal">
                <div class="modal-content">
                    <h2>üéâ Well Done! üéâ</h2>
                    <p>You found the correct sequence!</p>
                    <p>Redirecting to next page in: <span id="countdown">5</span> seconds</p>
                </div>
            </div>
        </main>
        
        <footer class="footer">
            <p>üéÖ Happy Hunting! üéÖ</p>
        </footer>
    </div>
    
    <script>
        let clickSequence = [];
        let bellSound = new Audio('data:audio/wav;base64,UklGRnoGAABXQVZFZm10IBAAAAABAAEAQB8AAEAfAAABAAgAZGF0YQoGAACBhYqFbF1fdJivrJBhNjVgodDbq2EcBj+a2/LDciUFLIHO8tiJNwgZaLvt559NEAxQp+PwtmMcBjiR1/LMeSwFJHfH8N2QQAoUXrTp66hVFApGn+DyvmkaAG2CFQR6BnQJhQqPBYEKkQhNDXkRRwyFGVkUIw3lGVUXUAd9HTMZFQHdF5kSBRAAGMcXFRZzHiAcVR0yIvYZRyG7HfIdBCKTJJYeMRsyICgfEjFKO0Q5gzrXOdkwVS49LnArsS11ODcq6ipGLVkzOUg3Mkg7RUU5OzlZPh8zJjRpRBU7azdJO9szejFFO+U3fzpcP3Y3fUKNPGI5qUQ+PTxBp0z3QH9AjEnpQGVBl1B4SLJFkUxbTYxLV0zhTvVPx0pRSTJP+1JiTb5NulKHVD5S51TYUp9ZVlyZWRJZjV1CZYxfvV0SZd5kvmdRZhNkqmhbai1nzGnPaSBsZnDMbqJxWWq6b9ptaHF2eM5tgG+gd5R3TXZjeXN/am8odb2Abn6OfVeF7oQGhj6FSosNh0qL1YunipGJGo73iPGKkY9EjbyRtJL5lZSYl5hWlsyXIpkZmsOb7px4neWfF56En8KeOqIApFOoRaMbqPOr36s7rTqsla0ZtCq3Ma4Jr2CwVL4xxn2/ssBqwRjFvML6xsLEOMaVwwjJWsVZyDTHgc5pzJzMs8g/0D7N8tJL0xPSvdQE2LLYBNhV2MnZaNkf3vLbZOC52mbjnOKp5VTmu+fC6YfrWe6X7W3z+O/C9Vzxz/4Q/oj+AAAAAQAAAAEAAAEBAAEBAAEBAAEBAAEBAAEBAAEBAAEBAAEB');
        let buzzerSound = new Audio('data:audio/wav;base64,UklGRmQEAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAEAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAACAAAAA=');
        
        document.addEventListener('DOMContentLoaded', function() {
            const clickableIcons = document.querySelectorAll('.clickable-icon');
            const modal = document.getElementById('successModal');
            const countdownElement = document.getElementById('countdown');
            const videoContainer = document.querySelector('.video-container');
            
            // Position icons randomly outside video area
            function positionIcon(icon) {
                const videoRect = videoContainer.getBoundingClientRect();
                const windowWidth = window.innerWidth;
                const windowHeight = window.innerHeight;
                
                let x, y;
                const attempts = 50;
                let attempt = 0;
                
                do {
                    x = Math.random() * (windowWidth - 100);
                    y = Math.random() * (windowHeight - 100);
                    attempt++;
                } while (attempt < attempts && 
                         x > videoRect.left - 50 && 
                         x < videoRect.right + 50 && 
                         y > videoRect.top - 50 && 
                         y < videoRect.bottom + 50);
                
                icon.style.position = 'fixed';
                icon.style.left = x + 'px';
                icon.style.top = y + 'px';
                icon.style.cursor = 'pointer';
                icon.style.fontSize = '2.5rem';
                icon.style.zIndex = '15';
                icon.style.animation = 'float 3s ease-in-out infinite';
                icon.style.animationDelay = Math.random() * 2 + 's';
            }
            
            // Initial positioning and random repositioning
            clickableIcons.forEach(icon => {
                positionIcon(icon);
                
                // Random disappear/reappear cycle
                function startRandomCycle() {
                    const disappearTime = Math.random() * 3000 + 2000; // 2-5 seconds
                    const reappearTime = Math.random() * 2000 + 1000; // 1-3 seconds
                    
                    setTimeout(() => {
                        icon.style.opacity = '0';
                        icon.style.transform = 'scale(0)';
                        
                        setTimeout(() => {
                            positionIcon(icon);
                            icon.style.opacity = '1';
                            icon.style.transform = 'scale(1)';
                            startRandomCycle(); // Continue the cycle
                        }, reappearTime);
                    }, disappearTime);
                }
                
                startRandomCycle();
                
                icon.addEventListener('click', function() {
                    const type = this.getAttribute('data-type');
                    
                    if (type === 'blade' || type === 'runner') {
                        bellSound.currentTime = 0;
                        bellSound.play();
                        clickSequence.push(type);
                        
                        // Check if correct sequence
                        if (clickSequence.length === 2) {
                            if (clickSequence[0] === 'blade' && clickSequence[1] === 'runner') {
                                showSuccessModal();
                            } else {
                                // Reset if wrong sequence
                                clickSequence = [];
                            }
                        }
                    } else {
                        buzzerSound.currentTime = 0;
                        buzzerSound.play();
                        // Reset sequence on wrong click
                        clickSequence = [];
                    }
                });
            });
            
            function showSuccessModal() {
                modal.style.display = 'flex';
                let countdown = 5;
                
                const timer = setInterval(() => {
                    countdown--;
                    countdownElement.textContent = countdown;
                    
                    if (countdown <= 0) {
                        clearInterval(timer);
                        window.location.href = 'blade-runner.html';
                    }
                }, 1000);
            }
        });
    </script>
</body>
</html>